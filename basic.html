<html>
<head>
<title></title>
</head>
<body>
<canvas id="canvas" width="800" height="500" onclick="" style="border: 1px solid #000000;"></canvas>
<br/>
<input id="b" type="button" value="start" onclick="start()"/>

<script type="text/javascript">
	var c=document.getElementById("canvas");
	var context=c.getContext('2d');
	
	var ymax=255
	var ymin=0;
	var xmin=0;
	var xmax=500;
	var yscale=(c.height)/ymax;
	var xscale=(c.width)/xmax;
	
	var dataSine=new Array();
	var d=new Array()
	
	var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame ;
	
	function makeFakeData(){
		for(var i=0;i<xmax;i++){
			dataSine.push(Math.round((Math.sin(i/30)+1.2)*100000)/1000);
		}
		d= dataSine
	}
	
	var i=1
	function graphData(){
		context.save();
		context.strokeStyle='red';
		context.lineWidth=1;
		context.beginPath();
		context.moveTo((i*xscale),ymax*yscale-d[i-1]*yscale);
		var y=d[i];
		context.lineTo((i*xscale),ymax*yscale-y*yscale);
		context.stroke();
		i=i+1
		context.restore();
	}
	
	
	
	window.onload=function(){
		makeFakeData();
	};
	
	function start(){
		setInterval(graphData,20);
	}
	
	
	
	
	/*
	http://www.skjapp.com/html5-canvas-animation-using-animation-timing-api-with-fps-counting/#.UISoF_nBJrU
	
	http://paulirish.com/2011/requestanimationframe-for-smart-animating/
	
	*/
</script>


</body>
</html>