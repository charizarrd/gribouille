<html>
<head>

</head>

<body>
<span id = "test"></span>
<span id = "test2"></span>

<script type="text/javascript">
var lines = new Array();
var patterns = [/[numberofPrimitives=][0-9]+/ig, /[numberofVertices=][0-9]+/ig, /[0-9.]+/ig];
var dataPoints = new Array();



function getData(file) {
	lines = file.responseText.split("\n").slice();
	document.getElementById("test").innerHTML=(lines.length);
	matcher();
//	document.getElementById("test").innerHTML=(dataPoints.length);
}

function matcher() {
	var str = "80.273655, 197.981793;  1.013901";
	
	for (i = 0; i < lines.length; i++) {
		var str = lines[i];
		var x = null;
		var y = null;
		var time = null;
		
		for (j = 0; j < patterns.length; j++) {
			var m = str.match(patterns[j]);
			
			if (m != null && j == 2) {
				x = m[0];
				y = m[1];
				time = m[2];
			}
		}
		
		if (time != null) {
			dataPoints.push((x, y, time));
		}
	}
	
	document.getElementById("test2").innerHTML=dataPoints.length;
}

function readFile(url, callback) {
	var txtFile = new XMLHttpRequest();
	txtFile.open("GET", url, true);	
	txtFile.setRequestHeader('User-Agent','XMLHTTP/1.0');
	txtFile.onreadystatechange = function() {
		if (txtFile.readyState != 4) return;  // document is ready to parse.
		if (txtFile.status != 200 && txtFile.status != 304) return;  // file is found
				
		callback(txtFile);
	}
	if (txtFile.readyState == 4) return;
	txtFile.send(null);
}

var initialTime;

window.onload = function() {
	readFile("test.lec", getData);
};


</script>

</body>

</html>